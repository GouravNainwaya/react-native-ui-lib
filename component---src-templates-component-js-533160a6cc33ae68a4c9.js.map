{"version":3,"sources":["webpack:///./src/templates/component.js"],"names":["IMAGE_TYPES","ComponentTemplate","extractComponentsInfo","component","splitPattern","info","description","_","get","docblock","infoRaw","split","forEach","statement","match","exec","key","renderLink","componentInfo","allComponents","this","props","pageContext","components","extendedComponents","chain","extends","replace","value","map","index","isLast","size","text","extendedComponent","find","c","node","displayName","trim","path","extendsLink","className","href","rel","target","to","extendsnotes","renderImage","image","alt","src","style","marginRight","width","border","renderGif","renderImages","images","type","renderImportant","marginBottom","fontWeight","important","importantLink","renderNote","note","renderNotes","notes","renderComponentPage","selectedComponent","componentNode","componentProps","orderBy","prop","name","toLowerCase","gifs","gif","undefined","imgs","example","modifiers","length","Props","render","isIntro","showSidebar","Component"],"mappings":"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","file":"component---src-templates-component-js-533160a6cc33ae68a4c9.js","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport Link from 'gatsby-link';\nimport Layout from '../components/layout';\n\nimport './components.scss';\n\nconst IMAGE_TYPES = {\n  GIF: 'GIF',\n  PNG: 'PNG'\n};\n\nexport default class ComponentTemplate extends Component {\n  static propTypes = {\n    pageContext: PropTypes.object\n  };\n\n  extractComponentsInfo(component) {\n    const splitPattern = /([\\s\\S]*?):([\\s\\S]*)/; //eslint-disable-line\n\n    const info = {\n      description: _.get(component, 'description.text')\n    };\n\n    if (component.docblock) {\n      const infoRaw = _.split(component.docblock, '@');\n      _.forEach(infoRaw, statement => {\n        const match = splitPattern.exec(statement);\n        if (statement && match) {\n          const key = match[1];\n          info[key] = match[2];\n        }\n      });\n    }\n\n    return info;\n  }\n\n  renderLink(componentInfo) {\n    const {pageContext} = this.props;\n    const allComponents = pageContext.components;\n\n    const extendedComponents = _.chain(componentInfo.extends)\n      .replace(/ /g, '')\n      .split(',')\n      .value();\n\n    return _.map(extendedComponents, (component, index) => {\n      const isLast = index === _.size(extendedComponents) - 1;\n      const text = <b>{`${component}${!isLast ? ', ' : ''}`}</b>;\n      const extendedComponent = _.find(allComponents, c => c.node.displayName.trim() === component.trim());\n      const path = !extendedComponent && componentInfo.extendsLink ? componentInfo.extendsLink : `/docs/${component}`;\n\n      return (\n        <span className=\"inline\" key={component}>\n          {!extendedComponent && componentInfo.extendsLink ? (\n            <a href={componentInfo.extendsLink} rel=\"noopener noreferrer\" target=\"_blank\">\n              {text}\n            </a>\n          ) : (\n            <Link to={path}>{text}</Link>\n          )}\n          {componentInfo.extendsnotes}\n          <br/>\n        </span>\n      );\n    });\n  }\n\n  renderImage(image, index) {\n    return <img key={index} alt={''} src={image} style={{marginRight: 20, width: 320, border: '1px solid black'}}/>;\n  }\n\n  renderGif(image, index) {\n    return <img key={index} alt={''} src={image} style={{marginRight: 20, width: 320}}/>;\n  }\n\n  renderImages(images, type) {\n    switch (type) {\n      case IMAGE_TYPES.GIF:\n        return images.map(this.renderGif);\n      default:\n        return images.map(this.renderImage);\n    }\n  }\n\n  renderImportant(componentInfo) {\n    return (\n      <div alt={''} style={{marginBottom: 10}}>\n        <span style={{fontWeight: '700'}}>IMPORTANT: </span> {componentInfo.important} &nbsp;\n        {componentInfo.importantLink && (\n          <a target=\"_blank\" rel=\"noopener noreferrer\" href={componentInfo.importantLink}>\n            here\n          </a>\n        )}\n      </div>\n    );\n  }\n\n  renderNote(note, index) {\n    return (\n      <div key={index} alt={''} style={{marginBottom: 10}}>\n        {note}\n      </div>\n    );\n  }\n\n  renderNotes(notes) {\n    return notes.map(this.renderNote);\n  }\n\n  renderComponentPage() {\n    const {pageContext} = this.props;\n    const selectedComponent = pageContext.componentNode;\n    const componentInfo = this.extractComponentsInfo(selectedComponent);\n    const componentProps = _.orderBy(_.get(selectedComponent, 'props'), prop => prop.name.toLowerCase());\n    const gifs = componentInfo.gif ? componentInfo.gif.split(',') : undefined;\n    const imgs = componentInfo.image ? componentInfo.image.split(',') : undefined;\n    const notes = componentInfo.notes ? componentInfo.notes.split(';') : undefined;\n\n    return (\n      <div className=\"docs-page\">\n        <div className=\"docs-page__content\">\n          <h1 className=\"title inline\">{selectedComponent.displayName}</h1>\n          {componentInfo.example && (\n            <span className=\"code-example\">\n              (\n              <a className=\"inline\" target=\"_blank\" rel=\"noopener noreferrer\" href={componentInfo.example}>\n                code example\n              </a>\n              )\n            </span>\n          )}\n\n          <h3>{componentInfo.description}</h3>\n          {componentInfo.extends && (\n            <div>\n              Extends: {this.renderLink(componentInfo)}\n              <div>(meaning you can pass the super component's props as well).</div>\n            </div>\n          )}\n          {componentInfo.modifiers && (\n            <div>\n              <p>\n                Supported modifiers: <b>{componentInfo.modifiers}</b>. <br/>\n                Read more about modifiers <Link to=\"/foundation/modifiers\">here</Link>.\n              </p>\n            </div>\n          )}\n\n          {componentInfo.notes && (\n            <div>\n              <h4 style={{marginBottom: 10}}>NOTES</h4>\n              {this.renderNotes(notes)}\n            </div>\n          )}\n          {componentInfo.important && <div>{this.renderImportant(componentInfo)}</div>}\n          {componentProps.length > 0 && (\n            <div>\n              <h3>PROPS</h3>\n              <Props props={componentProps}/>\n            </div>\n          )}\n\n          {imgs && (\n            <div className=\"container\">\n              <h3>EXAMPLE</h3>\n              <div className=\"row\">\n                <div className=\"col-sm-12 text-center\">{this.renderImages(imgs, IMAGE_TYPES.PNG)}</div>\n              </div>\n            </div>\n          )}\n\n          {gifs && (\n            <div className=\"container\">\n              <h3>LIVE EXAMPLE</h3>\n              <div className=\"row\">\n                <div className=\"col-sm-12 text-center\">{this.renderImages(gifs, IMAGE_TYPES.GIF)}</div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const isIntro = !_.get(this.props, 'pageContext.componentNode');\n    return (\n      <Layout {...this.props} showSidebar>\n        <div>\n          {isIntro && (\n            <div className=\"docs-page\">\n              <div className=\"docs-page__content\">\n                <div>Select a component from the left sidebar</div>\n              </div>\n            </div>\n          )}\n\n          {!isIntro && this.renderComponentPage()}\n        </div>\n      </Layout>\n    );\n  }\n}\n\nconst Props = ({props}) => {\n  return (\n    <div className=\"component-props\">\n      <table>\n        <tbody>\n          <tr>\n            <th>name</th>\n            <th>description</th>\n            <th>type</th>\n            <th>default</th>\n          </tr>\n\n          {_.map(props, (prop, index) => {\n            const description = _.get(prop, 'description.text');\n            if (description) {\n              return (\n                <tr key={index}>\n                  <td>{prop.name}</td>\n                  <td>{description}</td>\n                  <td>{_.get(prop, 'type.name')}</td>\n                  <td>{_.get(prop, 'defaultValue.value')}</td>\n                </tr>\n              );\n            }\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n"],"sourceRoot":""}